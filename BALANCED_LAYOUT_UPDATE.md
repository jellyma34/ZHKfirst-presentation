# Сбалансированный Layout - Масштаб 1.8x

## ✅ Обновления для баланса композиции

### 🎯 Цель
Сохранить масштаб центрального блока (1.8×), но сбалансировать композицию так, чтобы:
- План не выходил за границы экрана
- Боковые панели не были прижаты
- Композиция оставалась воздушной и премиальной

---

## 📐 Изменения в Layout

### 1️⃣ Контейнер страницы обновлен

**Новая структура:**
```jsx
gridTemplateColumns: 'minmax(280px, 1fr) minmax(900px, 1.8fr) minmax(280px, 1fr)'
alignItems: 'start'           // ✅ Выравнивание по верху
gap: '3rem'                   // ✅ Оптимальный воздух
padding: '3rem 5rem'          // ✅ Комфортные отступы
maxWidth: '1920px'            // ✅ Ограничение ширины
minHeight: '90vh'             // ✅ Минимальная высота
```

**Преимущества:**
- Центральная колонка: **1.8fr** (оптимальное соотношение)
- Боковые колонки: **280-320px** (фиксированная ширина)
- Gap: **3rem** (баланс между воздухом и компактностью)
- Padding: **3rem 5rem** (предотвращает прилипание к краям)

### 2️⃣ Центральный блок оптимизирован

**Ключевые изменения:**
```jsx
transform: 'scale(1.8)'
transformOrigin: 'center top'     // ✅ От верха, не от центра
maxWidth: '950px'                 // ✅ Ограничение ширины
margin: '0 auto'                  // ✅ Центрирование
background: 'rgba(255, 255, 255, 0.65)'  // ✅ Светлее фон
minHeight: '500px'                // ✅ Минимальная высота
```

**Эффект:**
- **transform-origin: center top** - масштабирование от верхнего края
- **maxWidth: 950px** - план не выходит за пределы viewport
- План визуально доминирует, но не подавляет боковые панели

### 3️⃣ Изображение плана упрощено

**Стили изображения:**
```jsx
width: '100%'                     // Адаптивная ширина
height: 'auto'                    // Пропорциональная высота
borderRadius: '20px'
boxShadow: '0 20px 40px rgba(0, 0, 0, 0.1)'
border: '1px solid rgba(255, 255, 255, 0.6)'
transition: 'opacity 0.3s ease, transform 0.3s ease'
```

**Убрано:**
- ❌ maxWidth: 1200px (теперь адаптируется к контейнеру)
- ✅ Более мягкие переходы

### 4️⃣ Боковые панели уточнены

**Обновленные стили:**
```jsx
position: 'sticky'
top: '3rem'                       // ✅ Больше отступ сверху
background: 'rgba(255, 255, 255, 0.75)'  // ✅ Чуть плотнее
minWidth: '280px'                 // ✅ Минимальная ширина
maxWidth: '320px'                 // ✅ Максимальная ширина
```

**Эффект:**
- Прилипают к верху при скролле (sticky)
- Полупрозрачные с glassmorphism
- Фиксированная ширина для стабильности

### 5️⃣ Hover эффект усилен

**CSS обновлен:**
```css
.plan-scaled:hover {
  transform: scale(1.9) !important;  /* ✅ Увеличено с 1.82 до 1.9 */
  box-shadow: 
    inset 8px 8px 18px rgba(0, 0, 0, 0.06), 
    inset -8px -8px 20px rgba(255, 255, 255, 1), 
    0 25px 50px rgba(0, 0, 0, 0.12);
}
```

**Эффект:**
- При наведении план увеличивается до **1.9x**
- Усиленные тени для глубины
- Плавная анимация 0.4s

---

## 📱 Адаптивные Breakpoints

### 🖥️ Большие экраны (≥1600px)
```css
.plan-scaled {
  transform: scale(1.8);
  maxWidth: 950px;
}
.plan-scaled:hover {
  transform: scale(1.9);
}
padding: 3rem 6rem;
```

### 💻 Средние-большие экраны (1400px - 1599px)
```css
.plan-scaled {
  transform: scale(1.6);
  maxWidth: 900px;
}
.plan-scaled:hover {
  transform: scale(1.7);
}
```

### 💻 Средние экраны (1200px - 1399px)
```css
.plan-scaled {
  transform: scale(1.4);
  maxWidth: 850px;
}
.plan-scaled:hover {
  transform: scale(1.5);
}
padding: 2.5rem 4rem;
gap: 2.5rem;
```

### 📱 Планшеты большие (1025px - 1199px)
```css
.plan-scaled {
  transform: scale(1.2);
  maxWidth: 800px;
}
.plan-scaled:hover {
  transform: scale(1.3);
}
padding: 2rem 3rem;
gap: 2rem;
```

### 📱 Планшеты (≤1024px)
```css
grid-template-columns: 1fr;      /* Одна колонка */
.plan-scaled {
  transform: scale(1);           /* Обычный размер */
  max-width: 95vw;
}
.plan-scaled:hover {
  transform: scale(1.02);        /* Минимальный hover */
}
```

### 📱 Мобильные (≤768px)
```css
.plan-scaled {
  transform: scale(1);
  border-radius: 24px;
  padding: 1rem;
}
```

---

## 🎨 Визуальная схема

### До балансировки
```
┌─────────────────────────────────────────┐
│ П  ╔════════════════════════╗     П    │
│ а  ║  ПЛАН (1.8x)           ║     а    │
│ н  ║  Выходит за границы    ║     н    │
│ е  ║  Прижимает панели      ║     е    │
│ л  ╚════════════════════════╝     л    │
│                                         │
│ ❌ Дисбаланс композиции                │
└─────────────────────────────────────────┘
```

### После балансировки
```
┌──────────────────────────────────────────────┐
│                                              │
│  П    ╔═══════════════════════╗      П     │
│  а    ║                       ║      а     │
│  н    ║  ПЛАН (1.8x)          ║      н     │
│  е    ║  maxWidth: 950px      ║      е     │
│  л    ║  Сбалансирован        ║      л     │
│       ║                       ║            │
│       ╚═══════════════════════╝            │
│                                              │
│  ✅ Воздушная сбалансированная композиция   │
└──────────────────────────────────────────────┘
```

---

## 📊 Сравнительная таблица изменений

| Параметр | Было | Стало |
|----------|------|-------|
| **Grid columns** | minmax(250, 1fr) 2fr minmax(250, 1fr) | minmax(280, 1fr) 1.8fr minmax(280, 1fr) |
| **Gap** | 4rem | 3rem |
| **Padding** | 2rem 6rem | 3rem 5rem |
| **Max width** | 1800px | 1920px |
| **Align items** | center | start |
| **Height** | 90vh (fixed) | minHeight 90vh |
| **Transform origin** | center center | center top |
| **Plan maxWidth** | 800px | 950px |
| **Plan background** | rgba(255,255,255,0.6) | rgba(255,255,255,0.65) |
| **Hover scale** | 1.82x | 1.9x |
| **Панели top** | 2rem | 3rem |
| **Панели background** | rgba(255,255,255,0.7) | rgba(255,255,255,0.75) |
| **Панели minWidth** | - | 280px |

---

## ✨ Ключевые улучшения

### 1. Баланс композиции
- ✅ План доминирует, но не подавляет
- ✅ Боковые панели имеют достаточно места
- ✅ Воздух между элементами сбалансирован

### 2. Предотвращение выхода за границы
- ✅ maxWidth: 950px ограничивает ширину
- ✅ transform-origin: center top масштабирует от верха
- ✅ Адаптивные breakpoints для всех экранов

### 3. Оптимизация отступов
- ✅ padding: 3rem 5rem - комфортные отступы
- ✅ gap: 3rem - оптимальное расстояние
- ✅ Панели не прилипают к краям

### 4. Улучшенная адаптивность
- ✅ 6 breakpoints для плавного масштабирования
- ✅ От 1.8x до 1.0x в зависимости от экрана
- ✅ Hover эффекты адаптируются

### 5. Премиум эффекты сохранены
- ✅ Glassmorphism на всех блоках
- ✅ Неоморфные тени
- ✅ Плавные transitions
- ✅ Sticky позиционирование панелей

---

## 🚀 Как проверить

1. **Откройте страницу "Планировочные решения"**

2. **Проверьте баланс:**
   - ✅ План увеличен, но не выходит за экран
   - ✅ Боковые панели видны полностью
   - ✅ Есть воздух между элементами
   - ✅ Композиция сбалансирована

3. **Протестируйте hover:**
   - ✅ Наведите на план → увеличивается до 1.9x
   - ✅ Усиленные тени появляются
   - ✅ Анимация плавная

4. **Проверьте на разных экранах:**
   - ✅ Большой монитор (≥1600px): scale 1.8x
   - ✅ Обычный монитор (1400-1599px): scale 1.6x
   - ✅ Средний экран (1200-1399px): scale 1.4x
   - ✅ Планшет (1025-1199px): scale 1.2x
   - ✅ Планшет (≤1024px): scale 1.0x, вертикальный layout

5. **Прокрутите страницу:**
   - ✅ Панели прилипают к верху (sticky)
   - ✅ План остается видимым

---

## 📁 Измененные файлы

1. **src/pages/PlanningSolutions.jsx**
   - Обновлен `.planning-layout` контейнер
   - Изменен `transform-origin` на center top
   - Добавлен `maxWidth: 950px` для плана
   - Обновлены стили боковых панелей
   - Упрощены стили слоев

2. **src/styles/planning-solutions.css**
   - Hover увеличен до 1.9x
   - 6 адаптивных breakpoints
   - Оптимизированы padding и gap

---

**Результат:** Сбалансированная премиум-композиция с масштабом 1.8x, где план визуально доминирует, но не выходит за границы и не прижимает боковые панели! 🎨✨

