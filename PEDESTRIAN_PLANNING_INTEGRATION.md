# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è –ø–µ—à–µ—Ö–æ–¥–æ–≤ –≤ —Ä–∞–∑–¥–µ–ª "–ü–ª–∞–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è"

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. **–ò–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ PedestrianLayer**
–í —Ñ–∞–π–ª `src/pages/PlanningSolutions.jsx` –¥–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
```jsx
import PedestrianLayer from '../components/PedestrianLayer';
```

### 2. **–£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä –∞–Ω–∏–º–∞—Ü–∏–∏**
–î–æ–±–∞–≤–ª–µ–Ω —É—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `PedestrianLayer` –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–ª–æ—è "–î–≤–∏–∂–µ–Ω–∏–µ –ø–µ—à–µ—Ö–æ–¥–æ–≤":

```jsx
{/* –ê–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –ø–µ—à–µ—Ö–æ–¥–æ–≤ */}
{activeLayers.includes('pedestrian') && (
  <PedestrianLayer />
)}
```

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `.plan-wrapper`, –ø–æ–≤–µ—Ä—Ö –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ —ç—Ç–∞–∂–∞ —Å z-index: 130.

### 3. **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**
–í –ª–æ–≥–∏–∫–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ª–æ–µ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ–±—ã —Å–ª–æ–π `pedestrian` –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏–ª—Å—è –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:

```jsx
if (layerId === 'pedestrian') {
  return null; // –†–µ–Ω–¥–µ—Ä–∏–º –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–∏–∂–µ
}
```

### 4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π**
–í —Ñ–∞–π–ª `src/styles/planning-solutions.css` –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç–∏–ª–∏:

#### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–Ω–∏–º–∞—Ü–∏–∏
```css
.pedestrian-overlay {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 130;
  pointer-events: none;
  animation: fadeIn 0.4s ease-in-out forwards;
}
```

#### –ú–∞—Ä—à—Ä—É—Ç—ã (—Å–≤–µ—Ç—è—â–∏–µ—Å—è –ª–∏–Ω–∏–∏)
```css
.route {
  fill: none;
  stroke: rgba(0, 220, 255, 0.85);
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-dasharray: 8 10;
  animation: routeFlow 1.6s linear infinite;
  filter: drop-shadow(0 0 6px rgba(0, 220, 255, 0.8));
}
```

#### –ü–µ—à–µ—Ö–æ–¥—ã (–¥–≤–∏–∂—É—â–∏–µ—Å—è —Ç–æ—á–∫–∏)
```css
.person .body {
  fill: #ffcc00;
  r: 4;
  filter: drop-shadow(0 0 6px rgba(255, 200, 0, 0.9));
  animation: walkPulse 1.2s ease-in-out infinite;
}
```

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ü–ª–∞–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è"**
2. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π —ç—Ç–∞–∂ –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏
3. –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ "–§–∏–ª—å—Ç—Ä—ã —Å–ª–æ—ë–≤" –Ω–∞–π–¥–∏—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ **"–î–≤–∏–∂–µ–Ω–∏–µ –ø–µ—à–µ—Ö–æ–¥–æ–≤"**
4. –ù–∞ –ø–ª–∞–Ω–µ —ç—Ç–∞–∂–∞ –ø–æ—è–≤—è—Ç—Å—è:
   - üîµ **–°–≤–µ—Ç—è—â–∏–µ—Å—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–∏–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤** (–≥–æ–ª—É–±—ã–µ, —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –¥–≤–∏–∂–µ–Ω–∏—è)
   - üü° **–î–≤–∏–∂—É—â–∏–µ—Å—è —Ç–æ—á–∫–∏-–ø–µ—à–µ—Ö–æ–¥—ã** (–∂–µ–ª—Ç—ã–µ, —Å –ø—É–ª—å—Å–∞—Ü–∏–µ–π)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- **PedestrianLayer** (`src/components/PedestrianLayer.jsx`) - React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å SVG-–∞–Ω–∏–º–∞—Ü–∏–µ–π

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—à–µ—Ö–æ–¥–æ–≤**: 12
- **–°–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è**: 40-80 –ø–∏–∫—Å–µ–ª–µ–π/—Å–µ–∫ (—Å–ª—É—á–∞–π–Ω–∞—è)
- **–†–∞–¥–∏—É—Å —Ç–æ—á–∫–∏**: 5px
- **–ú–∞—Ä—à—Ä—É—Ç—ã**: 5 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—É—Ç–µ–π (–º–æ–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤ PedestrianLayer.jsx)

### Z-index –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ–µ–≤
1. **z-index: 1** - –û—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–Ω —ç—Ç–∞–∂–∞
2. **z-index: 2** - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–ª–æ–∏ (–∫–≤–∞—Ä—Ç–∏—Ä–æ–≥—Ä–∞—Ñ–∏—è, –ø–∞—Ä–∫–æ–≤–∫–∏ –∏ —Ç.–¥.)
3. **z-index: 130** - –ê–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –ø–µ—à–µ—Ö–æ–¥–æ–≤ (–ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö —Å–ª–æ–µ–≤)

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ê–Ω–∏–º–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–ª–æ—è
- –ê–Ω–∏–º–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–ª–æ—è (cleanup –≤ useEffect)
- –ê–Ω–∏–º–∞—Ü–∏—è –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ –ª—é–±–æ–π –º–∞—Å—à—Ç–∞–± (zoomLevel) –±–ª–∞–≥–æ–¥–∞—Ä—è SVG
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ requestAnimationFrame

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

1. **–ú–∞—Ä—à—Ä—É—Ç—ã**:
   - –ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ø—É–Ω–∫—Ç–∏—Ä–Ω–æ–π –ª–∏–Ω–∏–∏ (stroke-dasharray)
   - –ì–æ–ª—É–±–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ (drop-shadow)
   - –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ—á–µ–Ω–∏—è –∑–∞ 1.6 —Å–µ–∫—É–Ω–¥—ã

2. **–ü–µ—à–µ—Ö–æ–¥—ã**:
   - –î–≤–∏–∂–µ–Ω–∏–µ –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–∞–º
   - –ü—É–ª—å—Å–∞—Ü–∏—è (–º–∞—Å—à—Ç–∞–± 1.0 ‚Üí 1.2)
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Å–º–µ–Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (60% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
   - –ñ–µ–ª—Ç–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Ä–∞–∑–¥–µ–ª "–ü–ª–∞–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è" –∏–º–µ–µ—Ç —Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è –ø–µ—à–µ—Ö–æ–¥–æ–≤, —á—Ç–æ –∏ —Ä–∞–∑–¥–µ–ª "–ë–ª–∞–≥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ", –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ UX –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

